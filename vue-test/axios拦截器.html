<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>axios拦截器</title>
	</head>
	<body>
		<script type="text/javascript" src="js/axios.js"></script>
		<script type="text/javascript">
			/*
				axios拦截器
			*/
		   // 配置请求的基准URL地址
		   axios.defaults.baseURL = 'http://localhost:3000/';
		   //配置请求拦截器
		   axios.interceptors.request.use(function(config){
			   console.log(config.url);
			   config.headers.mytoken = 'nihaocai';
			   return config;
		   },function(err){
			   console.log(err);
		   })
		   //配置响应拦截器
		   axios.interceptors.response.use(function(res){
			    // console.log(res);
				//对数据进行处理
				var data = res.data;
			    return data;
		   },function(err){
		   		console.log(err);
		   })
		   axios.get('adata').then(function(data){
			   console.log(data);
		   })
		</script>
	</body>
</html>
