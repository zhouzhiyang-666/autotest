<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<script src="js/vue.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body>
		
		<div id="app">
		 <my-comp v-if="msg" :msg="msg"></my-comp>
		 <button @click="update">更新</button>
		 <button @click="uninstall">卸载</button>
		 <button @click="install">安装</button>
		</div>
		 
		
	</body>
	<script>
		Vue.directive('hello', {
		 bind: function (el) {
		  console.log('bind')
		 },
		 inserted: function (el) {
		  console.log('inserted')
		 },
		 update: function (el) {
		  console.log('update')
		 },
		 componentUpdated: function (el) {
		  console.log('componentUpdated')
		 },
		 unbind: function (el) {
		  console.log('unbind')
		 }
		})
		var myComp = {
		 template: '<h1 v-hello>{{msg}}</h1>',
		 props: {
		  msg: String
		 }
		}
		new Vue({
		 el: '#app',
		 data: {
		  msg: 'Hello'
		 },
		 components: {
		  myComp: myComp
		 },
		 methods: {
		  update: function () {
		   this.msg = 'Hi';
		   console.log(this);
		  },
		  uninstall: function () {
		   this.msg = ''
		  },
		  install: function () {
		   this.msg = 'Hello'
		  }
		 }
		})
	</script>
</html>
